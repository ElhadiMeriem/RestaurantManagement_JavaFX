# ************************************************************
# Sequel Pro SQL dump
# Version 4541
#
# http://www.sequelpro.com/
# https://github.com/sequelpro/sequelpro
#
# Host: localhost (MySQL 5.5.5-10.4.10-MariaDB)
# Database: restaurant
# Generation Time: 2019-12-28 20:38:18 +0000
# ************************************************************


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;


# Dump of table COMMAND_DETAILS
# ------------------------------------------------------------

DROP TABLE IF EXISTS `COMMAND_DETAILS`;

CREATE TABLE `COMMAND_DETAILS` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `ID_ITEM` int(11) NOT NULL,
  `ID_COMMAND` int(11) NOT NULL,
  `PRICE` float DEFAULT NULL,
  `QUANTITY` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `FK_COMMAND_DETAILS` (`ID_COMMAND`),
  KEY `FK_COMMAND_DETAILS2` (`ID_ITEM`),
  CONSTRAINT `FK_COMMAND_DETAILS` FOREIGN KEY (`ID_COMMAND`) REFERENCES `COMMANDS` (`ID`),
  CONSTRAINT `FK_COMMAND_DETAILS2` FOREIGN KEY (`ID_ITEM`) REFERENCES `ITEMS` (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;



# Dump of table COMMANDS
# ------------------------------------------------------------

DROP TABLE IF EXISTS `COMMANDS`;

CREATE TABLE `COMMANDS` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `ID_CLIENT` int(11) NOT NULL,
  `DATE` date DEFAULT NULL,
  `LIVRABLE` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `FK_EFFECTUER` (`ID_CLIENT`),
  CONSTRAINT `FK_EFFECTUER` FOREIGN KEY (`ID_CLIENT`) REFERENCES `USERS` (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;



# Dump of table FACTURES
# ------------------------------------------------------------

DROP TABLE IF EXISTS `FACTURES`;

CREATE TABLE `FACTURES` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `ID_COMMAND` int(11) DEFAULT NULL,
  `TOTAL` float DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `FK_CONCERNE` (`ID_COMMAND`),
  CONSTRAINT `FK_CONCERNE` FOREIGN KEY (`ID_COMMAND`) REFERENCES `COMMANDS` (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;



# Dump of table ITEMS
# ------------------------------------------------------------

DROP TABLE IF EXISTS `ITEMS`;

CREATE TABLE `ITEMS` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `PRICE` float DEFAULT NULL,
  `DESCRIPTION` varchar(50) DEFAULT NULL,
  `TYPE` varchar(10) DEFAULT NULL,
  `IMAGE` longblob DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;



# Dump of table RESERVATIONS
# ------------------------------------------------------------

DROP TABLE IF EXISTS `RESERVATIONS`;

CREATE TABLE `RESERVATIONS` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `ID_CLIENT` int(11) NOT NULL,
  `ID_TABLE` int(11) NOT NULL,
  `TIME` time DEFAULT NULL,
  `NUMBER` int(11) DEFAULT NULL,
  `DATE` date DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `FK_RESERVATIONS` (`ID_CLIENT`),
  KEY `FK_RESERVATIONS2` (`ID_TABLE`),
  CONSTRAINT `FK_RESERVATIONS` FOREIGN KEY (`ID_CLIENT`) REFERENCES `USERS` (`ID`),
  CONSTRAINT `FK_RESERVATIONS2` FOREIGN KEY (`ID_TABLE`) REFERENCES `TABLES` (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;



# Dump of table TABLES
# ------------------------------------------------------------

DROP TABLE IF EXISTS `TABLES`;

CREATE TABLE `TABLES` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `DESCRIPTION` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;



# Dump of table USERS
# ------------------------------------------------------------

DROP TABLE IF EXISTS `USERS`;

CREATE TABLE `USERS` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `FIRST_NAME` varchar(14) DEFAULT NULL,
  `LAST_NAME` varchar(14) DEFAULT NULL,
  `USERNAME` varchar(14) DEFAULT NULL,
  `EMAIL` varchar(50) DEFAULT NULL,
  `PASSWORD` varchar(20) DEFAULT NULL,
  `ROLE` varchar(14) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;



/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
